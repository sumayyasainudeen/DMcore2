{%extends 'smo/publishing/smo_base.html'%}
<!-- DEVprojects -->
{%load static%}
{%block content%}
<style>
  
</style>



<div class="row pt-3">
  <div class="" style="font-size: 20px;font-weight: 600;color:#6C7293;">
    CREATE POST
  </div>
</div>

<div class="row">
    <div class="col-sm-12" style="text-align: right;">
        <a  data-toggle="modal" data-target="#exampleModalCenter3">
            <div class="badge badge-outline-info">Create Post</div>
        </a>
    </div>
</div>
<div class="row">
    {% for i in post%}
    <div class="col-md-3" style="text-align:center;" >
        <a  data-toggle="modal" data-target="#view_draft{{i.id}}"><div class="card m-4" style="width: 18rem; height: auto;text-align: center;background-color: #191c24;color: white; ">
          {% for ss in i.json_testerscreenshot %}
          
           <img class="card-img-top" style=" width: 18rem;" src="{{ss}}">
           
           {%endfor%}
           {% if i.status == "pending"%}
            <div style="background-color: rgb(255, 0, 0);">
              {{i.status}}
            </div>
            {% elif i.status == "draft"%}
            <div style="background-color: rgb(255, 0, 0);">
              {{i.status}}
            </div>
            {%else%}
            <div style="background-color: green">
              {{i.status}}
            </div>
            {%endif%}
            
          
          
            <div class="card-body">
            <h5 class="card-title">{{i.description}}</h5>


            </div>
        </div></a>
    </div>
    {%endfor%}
   
</div>

{% for l in post %}
<form action="{% url 'edit_post_drft' l.id%}" class="form" method="post" enctype="multipart/form-data">
  {% csrf_token %}
<div class="rowmt-5 modal fade" tabindex="-1" role="dialog" id="view_draft{{l.id}}">
    <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
      <div class="modal-content modal-xl" style="background-color: #191c24;">
        <div class="modal-header">
          <h5 class="modal-title">View And Edit Post</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        
        
        <div class="row" >
                <div class="col-12 col-sm-12 col-xl-12 my-auto" style="margin: 0 auto;">
                    
                    <textarea class=" form-control text-light" style="border:0px solid #6C7293 ;height:400px; width: 100%; font-size: 16px;" placeholder="Type something else..." name="description">{{l.description}}</textarea>
                </div>
            </div>

            <div class="row mt-3" >
                <div class="col-12 col-sm-12 " style="margin: 0 auto;">
                    <div class="d-flex d-sm-block d-md-flex">
                    
                        
                        <div>
                            <input type="file" name="filed" multiple>
                        </div>
                    
        
                    </div>
                </div>
            </div>
            <div class="row mt-3">
              <div class="col-sm-12">
                {% for ss in l.json_testerscreenshot %}
                <a href="{{ss}}"><img class="card-img-top" style=" width: 18rem;" src="{{ss}}"></a>
                
                {%endfor%}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-12" style="text-align: center;">
                <div class="text-info" style="font-size: 20px;font-weight: 600;" id="heads">Posting Social Media</div>
              </div>
            </div>
            
            
            <div class="row mt-3">
              <div class="col-sm-12" style="text-align: center;">
                    {% if l.fb != None%}
                    <a href="" data-toggle="modal" data-target="#descr" onclick="view_sub('Facebook','{{l.id}}')"><div class="badge badge-outline-primary mt-1">Facebook</div></a>
                    {%else%}
                    {%endif%}
                    {% if l.tw != None%}
                    <a href="" data-toggle="modal" data-target="#descr"onclick="view_sub('Twitter','{{l.id}}')"><div class="badge badge-outline-primary mt-1">Twitter</div></a>
                    {%else%}
                    {%endif%}
                    {% if l.pin != None%}
                    <a href="" data-toggle="modal" data-target="#descr" onclick="view_sub('Pinterest','{{l.id}}')"><div class="badge badge-outline-primary mt-1">Pinterest</div></a>
                    {%else%}
                    {%endif%}
                    {% if l.link != None%}
                    <a href="" data-toggle="modal" data-target="#descr" onclick="view_sub('Linkedin','{{l.id}}')"><div class="badge badge-outline-primary mt-1">Linkedin</div></a>
                    {%else%}
                    {%endif%}
                    {% if l.insta != None%}
                    <a href="" data-toggle="modal" data-target="#descr" onclick="view_sub('Instagram','{{l.id}}')"><div class="badge badge-outline-primary mt-1">Instagram</div></a>
                    {%else%}
                    {%endif%}
                    {% if l.tumb != None%}
                    <a href="" data-toggle="modal" data-target="#descr" onclick="view_sub('Tumblr','{{l.id}}')"><div class="badge badge-outline-primary mt-1">Tumblr</div></a>
                    {%else%}
                    {%endif%}
                    {% if l.diry != None%}
                    <a href="" data-toggle="modal" data-target="#descr" onclick="view_sub('Directories','{{l.id}}')"><div class="badge badge-outline-primary mt-1">Directories</div></a>
                    {%else%}
                    {%endif%}
                    {% if l.yt != None%}
                    <a href="" data-toggle="modal" data-target="#descr" onclick="view_sub('You Tube','{{l.id}}')"><div class="badge badge-outline-primary mt-1">You Tube</div></a>
                    {%else%}
                    {%endif%}
                    {% if l.qra != v%}
                    <a href="" data-toggle="modal" data-target="#descr" onclick="view_sub('Quora','{{l.id}}')"><div class="badge badge-outline-primary mt-1">Quora</div></a>
                    {%else%}
                    {%endif%}

                    {% for n in addi_post %}
                    
                      {% if l.id == n.post_id%}
                      <a href="" data-toggle="modal" data-target="#descr" onclick="view_sub('{{n.label}}','{{n.id}}')"><div class="badge badge-outline-primary mt-1">{{n.label}}</div></a>
                      {%else%}
                      {%endif%}
                    {%endfor%}
              </div>
            </div>

            <hr>

            <div class="row">
              <div class="col-sm-12" style="text-align: center;">
                <div class="text-info" style="font-size: 20px;font-weight: 600;" id="heads">Status Updation</div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12 mt-3"  style="text-align: center;">
                
                {% if l.status == "submitted"%}
                
                {% elif l.status == "complete"%}
                {% elif l.status == "pending"%}
                <label for="">Status :</label>
                <input type="radio" value="pending" id="status2" style="margin-left: 1%;"  name="status" onclick=status_chk() checked><label for="" >Pending</label>
            
                <input type="radio" value="submitted" id="status" style="margin-left: 1%;"  name="status" onclick=status_chk()><label for="" >Submitted</label>
              
                {%else%}
                <label for="">Status :</label>
                <input type="radio" value="pending" id="status2" style="margin-left: 1%;"  name="status" onclick=status_chk()><label for="" >Pending</label>
            
                <input type="radio" value="submitted" id="status" style="margin-left: 1%;"  name="status" onclick=status_chk()><label for="" >Submitted</label>
             
                
                {%endif%}

                

                
              </div>
            </div>
            {% if l.status == "complete"%}
            <div class="row" style="text-align: center;">
              <div class="col-sm-12">
                
                <div class="row mt-3">
                  <div class="col-sm-12">
                    {% if l.st_file != None%}
                    <a href="{{l.st_file.url}}"><img class="card-img-top" style=" width: 18rem;" src="{{l.st_file.url}}"></a>
                    {%else%}
                    {%endif%}
                    
                   
                  </div>
                </div>
              </div>
            </div>
            {% elif l.status == "submitted" %}
            <div class="row" style="text-align: center;">
              <div class="col-sm-12">
                
                <div class="row mt-3">
                  <div class="col-sm-12">
                    {% if l.st_file != None%}
                    <a href="{{l.st_file.url}}"><img class="card-img-top" style=" width: 18rem;" src="{{l.st_file.url}}"></a>
                    {%else%}
                    {%endif%}
                    
                   
                  </div>
                </div>
              </div>
            </div>
            
            {%else%}
            {%endif%}

            {% if l.status == "draft"%}
            <div class="row mt-2" style="text-align: center;">
              <div class="col-sm-12" style=" " id="cmpl_file">
                <input type="file" name="cmpl_file"  style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ; margin-left: 8%;">
              </div>
            </div>
            {% elif l.status == "pending" %}
            <div class="row mt-2" style="text-align: center;">
              <div class="col-sm-12" style=" " id="cmpl_file">
                <input type="file" name="cmpl_file"  style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ; margin-left: 8%;">
              </div>
            </div>
            {%else%}
            {%endif%}
           
            <div class="row mt-3" >
                <div class="col-sm-12" style="text-align: right;">
                    <div>
                        

                        <button type="submit" class="btn btn-outline-primary mt-4 ml-4 mb-5" >Update</button>
                    </form>
                    
                    <a href="{% url 'published_post' %}"><div class="btn btn-outline-primary mt-4 mb-5" >Create Post</div></a>
                    </div>
                </div>
                
        
                  
            </div>
      </div>
    </div>
  </div>
{%endfor%}

<div class="rowmt-5 modal fade" id="exampleModalCenter3">
    <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
      <div class="modal-content modal-xl" style="background-color: #191c24;">
        <div class="card ">
          <div class="card-body">
            <div class="row">
                <div class="col-lg-10 col-md-12 col-sm-12 mt-2" style="margin: 0 auto;">
                    <div class="card">
                        
                        <div class="card-body">
                            <form action="{% url 'save_post_drft'%}" class="form" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <div class="row" >
                                    <div class="col-12 col-sm-12 col-xl-12 my-auto" style="margin: 0 auto;">
                                        
                                        <textarea class=" form-control text-light" style="border:0px solid #6C7293 ;height:400px; width: 100%; font-size: 16px;" placeholder="Type something else..." name="description"></textarea>
                                    </div>
                                </div>
    
                                <div class="row mt-3" >
                                    <div class="col-12 col-sm-12 col-xl-8 " style="margin: 0 auto;">
                                        <div class="d-flex d-sm-block d-md-flex ">
                                        
                                            
                                            <div>
                                              <input type="file" name="filed" multiple>
                                            </div>
                                        
                            
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-3">
                                    <div class="col-md-12" >
                                        <div class="col-md-4 ">
                                            <input type="checkbox" class="ml-3 mt-2 text-light" onclick=check_fb() name="fb" id="fb" value="Facebook">
                                            <label for="" class="mr-2 ml-3 mt-2" style="color:white ;">Facebook</label>
                                          </div>
                                          <div class="col-md-8 ">
                                            <input type="date"  name="fb_txt" id="fb_txt"  class="form-control mt-2" value="{{ dt | date:'Y-m-d'  }}"style="text-decoration:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                            
                                              <input type="file" name="fb_file" id="fb_file" class="form-control mt-2 " 
                                              style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                          </div>
                        
                                          <div class="col-md-4 ">
                                            <input type="checkbox" class="ml-3 mt-2 text-light" onclick=check_tw() name="tw" id="tw" value="Twitter">
                                            <label for="" class="mr-2 ml-3 mt-2" style="color:white ;">Twitter</label>
                                          </div>
                                          <div class="col-md-8 ">
                                            <input type="date" value="{{ dt | date:'Y-m-d'  }}" name="tw_txt" id="tw_txt"  class="form-control mt-2 "style="text-decoration:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                            
                                              <input type="file" name="tw_file" id="tw_file" class="form-control mt-2 "
                                              style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                          </div>
                        
                                          <div class="col-md-4 ">
                                            <input type="checkbox" class="ml-3 mt-2 text-light" onclick=check_pin() name="pin" id="pin" value="Pinterest">
                                            <label for="" class="mr-2 ml-3 mt-2" style="color:white ;">Pinterest</label>
                                          </div>
                                          <div class="col-md-8 ">
                                            <input type="date" value="{{ dt | date:'Y-m-d'  }}"name="pin_txt" id="pin_txt"  class="form-control mt-2 "style="text-decoration:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                            
                                              <input type="file" name="pin_file" id="pin_file" class="form-control mt-2 "
                                              style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                          </div>
                        
                                          <div class="col-md-4 ">
                                            <input type="checkbox" class="ml-3 mt-2 text-light" onclick=check_link() name="link" id="link" value="Linkedin">
                                            <label for="" class="mr-2 ml-3 mt-2" style="color:white ;">Linkedin</label>
                                          </div>
                                          <div class="col-md-8 ">
                                            <input type="date" value="{{ dt | date:'Y-m-d'  }}"name="link_txt" id="link_txt"  class="form-control mt-2 "style="text-decoration:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                            
                                              <input type="file" name="link_file" id="link_file" class="form-control mt-2 "
                                              style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                          </div>
                        
                                          <div class="col-md-4 ">
                                            <input type="checkbox" class="ml-3 mt-2 text-light" onclick=check_insta() name="insta" id="insta" value="Instagram">
                                            <label for="" class="mr-2 ml-3 mt-2" style="color:white ;">Instagram</label>
                                          </div>
                                          <div class="col-md-8 ">
                                            <input type="date" value="{{ dt | date:'Y-m-d'  }}"name="insta_txt" id="insta_txt"  class="form-control mt-2 "style="text-decoration:none;background-color: #191c24;color:#6C7293 ; display: none;">
                                            
                                              <input type="file" name="insta_file" id="insta_file" class="form-control mt-2 "
                                              style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                          </div>
                        
                                          <div class="col-md-4 ">
                                            <input type="checkbox" class="ml-3 mt-2 text-light" onclick=check_tumb() name="tumb" id="tumb" value="Tumblr">
                                            <label for="" class="mr-2 ml-3 mt-2" style="color:white ;">Tumblr</label>
                                          </div>
                                          <div class="col-md-8 ">
                                            <input type="date" value="{{ dt | date:'Y-m-d'  }}"name="tumb_txt" id="tumb_txt"  class="form-control mt-2 "style="text-decoration:none;background-color: #191c24;color:#6C7293 ; display: none;">
                                           
                                              <input type="file" name="tumb_file" id="tumb_file" class="form-control mt-2 "
                                              style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                          </div>
                        
                                          <div class="col-md-4 ">
                                            <input type="checkbox" class="ml-3 mt-2 text-light" onclick=check_diry() name="diry" id="diry" value="Directories">
                                            <label for="" class="mr-2 ml-3 mt-2" style="color:white ;">Directories</label>
                                          </div>
                                          <div class="col-md-8 ">
                                            <input type="date" value="{{ dt | date:'Y-m-d'  }}"name="diry_txt" id="diry_txt"  class="form-control mt-2 "style="text-decoration:none;background-color: #191c24;color:#6C7293 ; display: none;">
                                            
                                              <input type="file" name="diry_file" id="diry_file" class="form-control mt-2 "
                                              style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                          </div>
                        
                                          <div class="col-md-4 ">
                                            <input type="checkbox" class="ml-3 mt-2 text-light" onclick=check_yt() name="yt" id="yt" value="YouTube">
                                            <label for="" class="mr-2 ml-3 mt-2" style="color:white ;">YouTube</label>
                                          </div>
                                          <div class="col-md-8 ">
                                            <input type="date" value="{{ dt | date:'Y-m-d'  }}"name="yt_txt" id="yt_txt"  class="form-control mt-2 "style="text-decoration:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                            
                                              <input type="file" name="yt_file" id="yt_file" class="form-control mt-2 "
                                              style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                          </div>
                        
                                          <div class="col-md-4 ">
                                            <input type="checkbox" class="ml-3 mt-2 text-light" onclick=check_qra() name="qra" id="qra" value="Quora">
                                            <label for="" class="mr-2 ml-3 mt-2" style="color:white ;">Quora</label>
                                          </div>
                                          <div class="col-md-8 ">
                                            <input type="date" value="{{ dt | date:'Y-m-d'  }}"name="qra_txt" id="qra_txt" class="form-control mt-2 "style="text-decoration:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                            
                                              <input type="file" name="qra_file" id="qra_file" class="form-control mt-2 "
                                              style="text-decoration:none;border:none;background-color: #191c24;color:#6C7293 ;display: none;">
                                          </div>
                                          
                                          <div id="sub_info">
                        
                                          </div>
                                          <div class="btn btn-light mt-2" id="add_sub">+</div>
                                    </div>
    
                                  </div>
                                <hr>
                                <div class="row mt-3" >
                                    <div class="col-sm-12" style="text-align: right;">
                                        <div>
                                            
    
                                            <button type="submit" class="btn btn-outline-primary mt-4 ml-4" >Save And Draft</button>
                                        </form>
                                        
                                        <a href="{% url 'published_post' %}"><div class="btn btn-outline-primary mt-4 " >Create Post</div></a>
                                        </div>
                                    </div>
                                    
                            
                                      
                                </div>
                           
                            
    
                    
                        </div>
                       
                    </div>
                </div>
            
            </div>
        </div>
        
        <br><br>
      </div>
    </div>
  </div>
</div>

  <div class="rowmt-5 modal fade" id="descr">
    <div class="modal-dialog modal-m modal-dialog-centered" role="document">
      <div class="modal-content modal-m" style="background-color: #191c24;">
        <div class="card ">
          <div class="card-body">
            <div class="container">
              <button type="button" class="close text-light" data-dismiss="modal" aria-label=""
                style="background-color: #191c24;border:none; float: right; font-size: 20px;">
                <span aria-hidden="true">&times;</span>
              </button>
              <div class="text-info" style="font-size: 20px;font-weight: 600;" id="headsss"> </div>
  
              <div class="row mt-5">
                <div class="col">
                  <p class=" mt-2 text-light" style="color:white; ; font-size: 20px; text-align:justify" id="sub_des"></p>
                </div>
                <div id="files_sub">
                  <a href="" id="files"><div  class="btn-primary Search" style="width:220px; text-align:center" >Download Attach File</div></a>
                </div>
                
              </div>
             
          </div>
        </div>
    </div>
  </div>
  </div>
  </div>
</div>
  
  
  
  
  
  
  
  <script>
    function view_sub(el, id){
        var elem=el
        var ids=id
        
        $.ajax({
            type: "GET",
            url: "{% url 'ad_get_smo_pst' %}",
            data: {
                ele : elem,
                idss:ids,
                
            },
            success:function(response){
                    console.log(response)
             
                    head = response.hd
                    des = response.des 
                    fil = response.fl
             
                    document.getElementById('sub_des').innerHTML = "Posting Date : "+des;
                    document.getElementById('headsss').innerHTML = head;
                    flr=document.getElementById('files')
               
                    flr.href = (`/media/${fil}`)
                    
  
            }});
  
        
    }
  </script>
  <script>
    
    function status_chk(){
      var chrt=document.getElementById("statu").checked;
      var chk_fb2=document.getElementById("status2").checked;
      var files = document.getElementById('cmpl_file');
      
      if (chrt==false){
        
        files.style=('display: none');
      }else if (chk_fb2==true) {
     
        files.style=('display: block');
      }else{
        
        files.style=('display: block');
      }
      
    }

  </script>
    <script>
    function check_fb(){
      var chk_fb=document.getElementById("fb").checked;
      var textarea = document.getElementById('fb_txt');
      var files = document.getElementById('fb_file');
      if (chk_fb==true){
    
        textarea.style=('display: block');
        files.style=('display: block');
      }
      else{
      
        textarea.style=('display: none');
        files.style=('display: none');
      }
    }
  
    function check_tw(){
      var chk_tw=document.getElementById("tw").checked;
      var textarea = document.getElementById('tw_txt');
      var files = document.getElementById('tw_file');
      if (chk_tw==true){
    
        textarea.style=('display: block');
        files.style=('display: block');
      }else{
      
        textarea.style=('display: none');
        files.style=('display: none');
      }
    }
  
    function check_pin(){
      var chk_pin=document.getElementById("pin").checked;
      var textarea = document.getElementById('pin_txt');
      var files = document.getElementById('pin_file');
      if (chk_pin==true){
    
        textarea.style=('display: block');
        files.style=('display: block');
      }else{
      
        textarea.style=('display: none');
        files.style=('display: none');
      }
    }
  
    function check_link(){
      var chk_link=document.getElementById("link").checked;
      var textarea = document.getElementById('link_txt');
      var files = document.getElementById('link_file');
      if (chk_link==true){
    
        textarea.style=('display: block');
        files.style=('display: block');
      }else{
      
        textarea.style=('display: none');
        files.style=('display: none');
      }
    }
  
    function check_insta(){
      var chk_insta=document.getElementById("insta").checked;
      var textarea = document.getElementById('insta_txt');
      var files = document.getElementById('insta_file');
      if (chk_insta==true){
    
        textarea.style=('display: block');
        files.style=('display: block');
      }else{
      
        textarea.style=('display: none');
        files.style=('display: none');
      }
    }
  
    function check_tumb(){
      var chk_tumb=document.getElementById("tumb").checked;
      var textarea = document.getElementById('tumb_txt');
      var files = document.getElementById('tumb_file');
      if (chk_tumb==true){
    
        textarea.style=('display: block');
        files.style=('display: block');
      }else{
      
        textarea.style=('display: none');
        files.style=('display: none');
      }
    }
  
    function check_diry(){
      var chk_diry=document.getElementById("diry").checked;
      var textarea = document.getElementById('diry_txt');
      var files = document.getElementById('diry_file');
      if (chk_diry==true){
    
        textarea.style=('display: block');
        files.style=('display: block');
      }else{
      
        textarea.style=('display: none');
        files.style=('display: none');
      }
    }
  
    function check_yt(){
      var chk_yt=document.getElementById("yt").checked;
      var textarea = document.getElementById('yt_txt');
      var files = document.getElementById('yt_file');
      if (chk_yt==true){
    
        textarea.style=('display: block');
        files.style=('display: block');
      }else{
      
        textarea.style=('display: none');
        files.style=('display: none');
      }
    }
  
    function check_qra(){
      var chk_qra=document.getElementById("qra").checked;
      var textarea = document.getElementById('qra_txt');
      var files = document.getElementById('qra_file');
      if (chk_qra==true){
    
        textarea.style=('display: block');
        files.style=('display: block');
      }else{
      
        textarea.style=('display: none');
        files.style=('display: none');
      }
    }
  
    
  </script>



<script>
    $(document).ready(function(){
              
              $('#add_sub').click(function(){
              
                  $('#sub_info').append(
                      `
                      <div class="col-md-12 ">
                      <input type="text" class="drop form-control ml-3 mt-2 text-light" style="border:1px solid #6C7293 ;color:#6C7293;"  name='sub_lb[]' id="sub_lb" >
                     
                    </div>
                    <div class="col-md-12">
                        <input type="date" value="{{ dt | date:'Y-m-d'  }}" name='dates[]' id="sub_txt" id="sub_file" class="form-control mt-2 "style="text-decoration:none;background-color: #191c24;color:#6C7293 ;">
                      
                        <input type="file" name='sub_file[]' id="sub_file" class="form-control mt-2 "
                        style="text-decoration:none;background-color: #191c24;color:#6C7293 ;">
                    </div>
                                                      
                      `
                  );
              });
            });
  </script>
        

            


<!--  -->
{% endblock %}